{% load widget_tweaks %}
{% load load_input %}

{% if display_label_with_class %}

    {% build_label field.label_tag True as label %}

{% else %}

    {% build_label field.label_tag False as label %}

{% endif %}

{% if required %}

    {% if form.is_bound %}

        {% if field.errors %}

            <div class="ui tiny error message">
                    <ul class="list">
                        {% for error in field.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
            </div>

            <div class="required field error">

                {{ label }}

                <div class="ui search">
                      <div class="ui icon fluid input error">
                          {% render_field form.author class="prompt" placeholder="Entrer un auteur..." required='' %}

                          <i class="search icon"></i>
                      </div>
                      <div class="results"></div>
                </div>

            </div>

        {% else %}

            <div class="required field success">

                {{ label }}

                <div class="ui search">
                      <div class="ui icon fluid input success">
                          {% render_field form.author class="prompt" placeholder="Entrer un auteur..." required='' %}

                          <i class="search icon"></i>
                      </div>
                      <div class="results"></div>
                </div>

            </div>

        {% endif %}

    {% else %}

        {% if field.help_text %}

            <div class="ui tiny warning message">
                {{ field.help_text }}
            </div>

        {% endif %}

        <div class="required field">

            {{ label }}

            <div class="ui search">
                  <div class="ui icon fluid input">
                      {% render_field form.author class="prompt" placeholder="Entrer un auteur..." required='' %}

                      <i class="search icon"></i>
                  </div>
                  <div class="results"></div>
            </div>

        </div>

    {% endif %}

{% else %}

    {% if form.is_bound %}

        {% if field.errors %}

            <div class="ui tiny error message">
                    <ul class="list">
                        {% for error in field.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
            </div>

            <div class="field error">

                {{ label }}

                <div class="ui search">
                      <div class="ui icon fluid input error">
                          {% render_field form.author class="prompt" placeholder="Entrer un auteur..." %}

                          <i class="search icon"></i>
                      </div>
                      <div class="results"></div>
                </div>

            </div>

        {% else %}

            <div class="field success">

                {{ label }}

                <div class="ui search">
                      <div class="ui icon fluid input success">
                          {% render_field form.author class="prompt" placeholder="Entrer un auteur..." %}

                          <i class="search icon"></i>
                      </div>
                      <div class="results"></div>
                </div>

            </div>

        {% endif %}

    {% else %}

        {% if field.help_text %}

            <div class="ui tiny warning message">
                {{ field.help_text }}
            </div>

        {% endif %}

        <div class="field">

            {{ label }}

            <div class="ui search">
                  <div class="ui icon fluid input">
                      {% render_field form.author class="prompt" placeholder="Entrer un auteur..." %}

                      <i class="search icon"></i>
                  </div>
                  <div class="results"></div>
            </div>

        </div>

    {% endif %}

{% endif %}